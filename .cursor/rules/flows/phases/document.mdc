---
description: ドキュメントを作成、編集する場合
globs: 
alwaysApply: false
---
# Document Phase

## 概要
document phaseは開発成果のドキュメント化と課題の管理を行うフェーズです。

## 目的
- 実装した機能の使用方法や注意点を記録する
- 現状の課題と改善案を整理する
- 将来の開発者のための情報を残す

## 基本方針
あなた（AI）が作成、編集できるドキュメントは、原則[issues.md](mdc:issues.md)と[.cursor/rules/README.md](mdc:../../README.md)のみです。それ以外のドキュメントについては、ユーザからの指示や許可があった場合のみ作成、編集ができます。ドキュメントはすべてmarkdown形式で、*.mdで保存されています。

## ドキュメント共通のルール
- 情報は一元管理し、重複記載を避けることを徹底してください。
  - プロジェクトルールを見れば事足りるような情報は記載しないでください。
  - コード、コメント、docstringを見れば事足りるような情報は記載しないでください。ただし、必要であれば「インターフェースの仕様に関してはinterfaces.pyに記載」というように、情報の参照先を記載するのは問題ないです。

## README.mdについて
### 構成
- MDCファイル管理の概要
- ディレクトリ構造の説明
- 実行可能なフローMDCの一覧
- フローMDCの使用方法

### ルール
- **最新の構造を反映**: ディレクトリ構造や使用可能なMDCの変更を常に反映してください
- **簡潔な説明**: 各MDCの説明は簡潔かつ目的が明確に分かるようにしてください
- **使用方法の具体性**: MDCの使用方法は具体的な手順を示してください
- **相対パスの使用**: ファイルパスは基本的に相対パスで記載してください

## issues.mdについて
### 構成
- 現状の課題と改善方針（優先度が高い順）
- ユーザー対応の課題（ユーザー側で解決可能な問題）
- 補足事項（必要に応じて）

### ルール
- **優先度順の記載**: 課題は必ず優先度の高い順に記載してください
- **優先度の低い課題**: 優先度が高くない課題は補足事項に記載してください
- **優先度の更新**: 状況変化に応じて課題の優先度を見直し、必要に応じて並び順を調整してください
- **課題報告の粒度**: 1つの課題は独立して対応できる粒度に保ってください
- **改善方針の具体性**: 各課題には具体的な改善方針を必ず記載してください
- **環境依存の問題**: コマンドが失敗するなど環境依存の問題が発生した場合は、必ず課題として記録してください。実行したコマンド、期待した動作、実際の結果、エラーメッセージを含めてください。
- **ユーザー関連の課題**: ユーザー側で解決できる問題やツール実行時のエラーは「ユーザー対応の課題」セクションに記載してください。
- **解決済み課題の削除**: 課題が完全に解決された場合は、issues.mdから削除してください。履歴を残す目的であっても「解決済み課題」セクションは作成せず、完全に削除してください。

### 環境依存の問題の記録
環境依存の問題を記録する際は、以下のフォーマットを使用してください：
```
**環境依存の問題: [簡潔な問題の説明]**
- 課題: [詳細な問題の説明]
- コマンド: `[実行したコマンド]`
- 期待した動作: [どのような動作を期待したか]
- 実際の結果: [実際に何が起きたか]
- エラーメッセージ: [エラーメッセージ]
- 改善方針: [考えられる解決策]
```

### ユーザー対応の課題の記録
ユーザー側で解決できる問題を記録する際は、以下のフォーマットを使用してください：
```
**ユーザー対応課題: [簡潔な問題の説明]**
- 課題: [詳細な問題の説明]
- 症状: [どのような現象が発生するか]
- 発生条件: [どのような状況で発生するか]
- 対応策: [ユーザーが取るべき対応方法]
- 根本原因: [技術的な原因の説明（可能な場合）]
```

ユーザー側で解決できる問題の例：
- PowerShellのバッファサイズエラー
- 特定のコマンド形式が環境によって動作しない
- インストール手順や依存関係の追加が必要なケース
- 環境変数の設定やPowerShellプロファイルの調整が必要なケース

### 課題解決後の対応
課題が解決された場合の対応：
- **必ず削除**: 課題が完全に解決された場合は、issues.mdから完全に削除してください
- **部分的解決**: 課題が部分的にしか解決されていない場合は、残りの課題を明確に記述し、優先度を再評価してください
- **プロジェクト履歴**: 解決済み課題の履歴を残す必要がある場合は、別途commitメッセージや更新履歴ファイルを活用してください

## 成果物
- 更新されたissues.md
- 更新されたREADME.md（必要な場合）
- その他必要なドキュメント（ユーザーの指示がある場合）

## 開始・終了宣言
- 開始時：「仕様変更flowのdocument phase開始」または「課題改善flowのdocument phase開始」
- 終了時：「仕様変更flowのdocument phase完了」または「課題改善flowのdocument phase完了」

この文を読んだ後に「document phaseのルールの読み込み完了」と表示してください。
